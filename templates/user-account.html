{% extends 'base.html' %}

{% block title %} {{ fname }}'s Account | Tripaholics{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/maps.css">
{% endblock %}


{% block body %}

<div class="row p-3">

    <h1>Hello {{ fname }}!</h1>

    <h2>Here are your upcoming trips:</h2>

</div>

<!-- Show map around here  -->
    <!-- <div class="map"> -->
        <div id="map">Maps</div>
    <!-- </div> -->

<!-- "Your trips" div goes here with a button "+ Plan new trip"
If user's didn't create any trip yet, show the following message:
"You haven't created anything yet. Plan a new trip." > Plan a new trip as a "a href"
and it will go to the "/plan-trip" to create a trip
Otherwise, show trips below -->

<!-- Cards go down here, use jinja template to loop through trips -->
<div class="container">
    <h3>Your trips</h3>
    <div class="row g-3">

        {% if trips %}

        {% for trip in trips %}
        
        <div class="col-12 col-md-6 col-lg-4">
            
            <div class="card">
                <a href="/details/{{ trip.trip_id }}">
                <img src="{{trip.img}}" class="card-img-top"></a>
                <!-- <a href="/details/{{ trip.trip_id }}" class="card-img-top btn btn-primary">See trip details</a> -->
                <div class="card-body">
                    <h3 class="card-title">{{ trip.trip_title }}</h3>
                    <h5 class="card-title">{{ trip.destination }}</h5>
                    <p class="card-text">{{ trip.start_date.strftime("%b %d, %Y") }} to {{ trip.end_date.strftime("%b %d, %Y") }}</p>

                    <!-- <form action="/user-account">
                        <textarea name="description" class="card-text form-control" placeholder="Trip description goes here"></textarea>
                        <button type="submit">Submit</button>
                    </form> -->
                    
                    {% if trip.description %}
                    <p class="card-text">{{ trip.description }}</p>
                    
                    {% else %}

                    <p>Please, add a description.</p>
                    {% endif %}
                    

                    <a href="/user-account/edit-trip/{{ trip.trip_id }}" value="Edit a trip" class="btn btn-outline-primary">Edit</a>
                    <a href="/delete/{{ trip.trip_id }}" value="Delete a trip" class="btn btn-outline-danger">Delete</a>

                </div>
            </div>
        </div>
        {% endfor %}
        
        {% else %}

        <div class="card">
            <div class="card-body">
                <p class="card-text">You don't have any existent trip. Please create one.</p>
                <a href="/plan-trip" value="Plan a trip" class="btn btn-primary">Plan a trip</a>
            </div>
        </div>


        {% endif %}
    </div>
</div>

<!-- Explore goes here
Popular Destinations

Use cards/carousel with destinations from folder --> 



<script src="/static/js/maps.js"></script>
<script async
    src="https://maps.googleapis.com/maps/api/js?key={{YOUR_API_KEY}}&region=US&callback=initMap">
</script>

{% endblock %}